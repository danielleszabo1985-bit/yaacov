<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>××‘×—×Ÿ ×™×¢×§×‘ ×•×¢×©×•</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            padding: 40px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }
        
        h1 {
            color: #667eea;
            text-align: center;
            margin-bottom: 10px;
            font-size: 2.5em;
        }
        
        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 1.1em;
        }

        .admin-panel {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            border: 2px solid #667eea;
        }

        .admin-title {
            font-weight: bold;
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.2em;
            text-align: center;
        }

        .admin-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .admin-btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            transition: transform 0.2s;
            font-weight: bold;
        }

        .admin-btn:hover {
            transform: translateY(-2px);
        }

        .view-btn {
            background: #667eea;
            color: white;
        }

        .download-all-btn {
            background: #28a745;
            color: white;
        }

        .clear-btn {
            background: #dc3545;
            color: white;
        }

        .stats {
            text-align: center;
            color: #666;
            margin-top: 10px;
            font-size: 0.95em;
        }
        
        .name-section {
            margin-bottom: 30px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #333;
        }
        
        input[type="text"] {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }
        
        input[type="text"]:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .question {
            background: #f8f9fa;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 10px;
            border-right: 4px solid #667eea;
        }
        
        .question-title {
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            font-size: 1.1em;
        }
        
        .option {
            margin: 10px 0;
            padding: 10px;
            background: white;
            border-radius: 6px;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .option:hover {
            background: #e9ecef;
        }
        
        .option input[type="radio"] {
            margin-left: 10px;
            cursor: pointer;
        }
        
        .option label {
            cursor: pointer;
            margin: 0;
            font-weight: normal;
        }
        
        .submit-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.2s;
        }
        
        .submit-btn:hover {
            transform: translateY(-2px);
        }
        
        .submit-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .result {
            display: none;
            text-align: center;
            padding: 30px;
            background: #f8f9fa;
            border-radius: 10px;
            margin-top: 20px;
        }
        
        .result.show {
            display: block;
        }
        
        .score {
            font-size: 3em;
            font-weight: bold;
            color: #667eea;
            margin: 20px 0;
        }
        
        .feedback {
            font-size: 1.2em;
            color: #333;
            margin: 10px 0;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            z-index: 1000;
            overflow-y: auto;
        }

        .modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .modal-content {
            background: white;
            border-radius: 15px;
            padding: 30px;
            max-width: 1000px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .modal-title {
            font-size: 1.8em;
            color: #667eea;
            font-weight: bold;
        }

        .close-btn {
            background: #dc3545;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
        }

        .results-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            font-size: 13px;
        }

        .results-table th, .results-table td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: center;
        }

        .results-table th {
            background: #667eea;
            color: white;
            font-weight: bold;
            position: sticky;
            top: 0;
        }

        .results-table tr:nth-child(even) {
            background: #f8f9fa;
        }

        .results-table tr:hover {
            background: #e9ecef;
        }

        .new-quiz-btn {
            margin-top: 20px;
            padding: 12px 30px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            transition: background 0.2s;
        }

        .new-quiz-btn:hover {
            background: #5568d3;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ“– ××‘×—×Ÿ ×™×¢×§×‘ ×•×¢×©×•</h1>
        <p class="subtitle">×‘×“×§×• ××ª ×”×™×“×¢ ×©×œ×›× ×‘×¤×¨×©×ª ×™×¢×§×‘ ×•×¢×©×•</p>
        
        <div class="admin-panel">
            <div class="admin-title">ğŸ¯ ×œ×•×— × ×™×”×•×œ ××•×¨×”</div>
            <div class="admin-buttons">
                <button class="admin-btn view-btn" onclick="viewAllResults()">ğŸ‘ï¸ ×¦×¤×™×™×” ×‘×›×œ ×”×ª×•×¦××•×ª</button>
                <button class="admin-btn download-all-btn" onclick="downloadAllResults()">ğŸ“Š ×”×•×¨×“×ª data.xlsx</button>
                <button class="admin-btn clear-btn" onclick="clearAllData()">ğŸ—‘ï¸ ××—×™×§×ª ×›×œ ×”× ×ª×•× ×™×</button>
            </div>
            <div class="stats" id="statsDisplay">×˜×•×¢×Ÿ × ×ª×•× ×™×...</div>
        </div>
        
        <form id="quizForm">
            <div class="name-section">
                <label for="studentName">×©× ×”×ª×œ××™×“/×”:</label>
                <input type="text" id="studentName" required placeholder="×”×›× ×™×¡×• ××ª ×©××›× ×”××œ×">
            </div>
            
            <div class="question">
                <div class="question-title">1. ××™ × ×•×œ×“ ×¨××©×•×Ÿ, ×™×¢×§×‘ ××• ×¢×©×•?</div>
                <div class="option">
                    <input type="radio" name="q1" value="×" id="q1a">
                    <label for="q1a">×. ×™×¢×§×‘</label>
                </div>
                <div class="option">
                    <input type="radio" name="q1" value="×‘" id="q1b">
                    <label for="q1b">×‘. ×¢×©×•</label>
                </div>
                <div class="option">
                    <input type="radio" name="q1" value="×’" id="q1c">
                    <label for="q1c">×’. × ×•×œ×“×• ×‘×• ×–×× ×™×ª</label>
                </div>
                <div class="option">
                    <input type="radio" name="q1" value="×“" id="q1d">
                    <label for="q1d">×“. ×œ× ×›×ª×•×‘ ×‘×ª×•×¨×”</label>
                </div>
            </div>

            <div class="question">
                <div class="question-title">2. ×‘××” ××—×– ×™×¢×§×‘ ×›×©× ×•×œ×“?</div>
                <div class="option">
                    <input type="radio" name="q2" value="×" id="q2a">
                    <label for="q2a">×. ×‘×¨××© ×©×œ ×¢×©×•</label>
                </div>
                <div class="option">
                    <input type="radio" name="q2" value="×‘" id="q2b">
                    <label for="q2b">×‘. ×‘×¢×§×‘ ×©×œ ×¢×©×•</label>
                </div>
                <div class="option">
                    <input type="radio" name="q2" value="×’" id="q2c">
                    <label for="q2c">×’. ×‘×™×“ ×©×œ ×¢×©×•</label>
                </div>
                <div class="option">
                    <input type="radio" name="q2" value="×“" id="q2d">
                    <label for="q2d">×“. ×œ× ××—×– ×‘×›×œ×•×</label>
                </div>
            </div>

            <div class="question">
                <div class="question-title">3. ××” ×”×™×” ×¢×™×¡×•×§×• ×©×œ ×¢×©×•?</div>
                <div class="option">
                    <input type="radio" name="q3" value="×" id="q3a">
                    <label for="q3a">×. ×¨×•×¢×” ×¦××Ÿ</label>
                </div>
                <div class="option">
                    <input type="radio" name="q3" value="×‘" id="q3b">
                    <label for="q3b">×‘. ××™×© ×™×•×“×¢ ×¦×™×“, ××™×© ×©×“×”</label>
                </div>
                <div class="option">
                    <input type="radio" name="q3" value="×’" id="q3c">
                    <label for="q3c">×’. ×œ×•××“ ×ª×•×¨×” ×‘××•×”×œ</label>
                </div>
                <div class="option">
                    <input type="radio" name="q3" value="×“" id="q3d">
                    <label for="q3d">×“. ×¡×•×—×¨</label>
                </div>
            </div>

            <div class="question">
                <div class="question-title">4. ××” ×”×™×” ×¢×™×¡×•×§×• ×©×œ ×™×¢×§×‘?</div>
                <div class="option">
                    <input type="radio" name="q4" value="×" id="q4a">
                    <label for="q4a">×. ××™×© ×¦×™×“</label>
                </div>
                <div class="option">
                    <input type="radio" name="q4" value="×‘" id="q4b">
                    <label for="q4b">×‘. ××™×© ×ª× ×™×•×©×‘ ××•×”×œ×™×</label>
                </div>
                <div class="option">
                    <input type="radio" name="q4" value="×’" id="q4c">
                    <label for="q4c">×’. ××™×›×¨</label>
                </div>
                <div class="option">
                    <input type="radio" name="q4" value="×“" id="q4d">
                    <label for="q4d">×“. ×¨×•×¢×” ×‘×§×¨</label>
                </div>
            </div>

            <div class="question">
                <div class="question-title">5. ××” ××›×¨ ×¢×©×• ×œ×™×¢×§×‘?</div>
                <div class="option">
                    <input type="radio" name="q5" value="×" id="q5a">
                    <label for="q5a">×. ××ª ×¦×× ×•</label>
                </div>
                <div class="option">
                    <input type="radio" name="q5" value="×‘" id="q5b">
                    <label for="q5b">×‘. ××ª ×‘×™×ª×•</label>
                </div>
                <div class="option">
                    <input type="radio" name="q5" value="×’" id="q5c">
                    <label for="q5c">×’. ××ª ×”×‘×›×•×¨×”</label>
                </div>
                <div class="option">
                    <input type="radio" name="q5" value="×“" id="q5d">
                    <label for="q5d">×“. ××ª ×—×¨×‘×•</label>
                </div>
            </div>

            <div class="question">
                <div class="question-title">6. ×ª××•×¨×ª ××” ××›×¨ ×¢×©×• ××ª ×”×‘×›×•×¨×”?</div>
                <div class="option">
                    <input type="radio" name="q6" value="×" id="q6a">
                    <label for="q6a">×. ×›×¡×£ ×•×–×”×‘</label>
                </div>
                <div class="option">
                    <input type="radio" name="q6" value="×‘" id="q6b">
                    <label for="q6b">×‘. × ×–×™×“ ×¢×“×©×™×</label>
                </div>
                <div class="option">
                    <input type="radio" name="q6" value="×’" id="q6c">
                    <label for="q6c">×’. ×¦××Ÿ ×•×‘×§×¨</label>
                </div>
                <div class="option">
                    <input type="radio" name="q6" value="×“" id="q6d">
                    <label for="q6d">×“. ×©×“×•×ª ×•×›×¨××™×</label>
                </div>
            </div>

            <div class="question">
                <div class="question-title">7. ××™ ×©×œ×— ××ª ×™×¢×§×‘ ×œ×§×‘×œ ××ª ×‘×¨×›×ª ×™×¦×—×§ ×‘××§×•× ×¢×©×•?</div>
                <div class="option">
                    <input type="radio" name="q7" value="×" id="q7a">
                    <label for="q7a">×. ××‘×¨×”×</label>
                </div>
                <div class="option">
                    <input type="radio" name="q7" value="×‘" id="q7b">
                    <label for="q7b">×‘. ×¨×‘×§×”</label>
                </div>
                <div class="option">
                    <input type="radio" name="q7" value="×’" id="q7c">
                    <label for="q7c">×’. ×©×¨×”</label>
                </div>
                <div class="option">
                    <input type="radio" name="q7" value="×“" id="q7d">
                    <label for="q7d">×“. ×¢×©×• ×¢×¦××•</label>
                </div>
            </div>

            <div class="question">
                <div class="question-title">8. ××” ×œ×‘×© ×™×¢×§×‘ ×›×“×™ ×œ×”×ª×—×¤×© ×œ×¢×©×•?</div>
                <div class="option">
                    <input type="radio" name="q8" value="×" id="q8a">
                    <label for="q8a">×. ×‘×’×“×™ ×¦×™×“</label>
                </div>
                <div class="option">
                    <input type="radio" name="q8" value="×‘" id="q8b">
                    <label for="q8b">×‘. ×‘×’×“×™ ×¢×©×• ×•×¢×•×¨×•×ª ×’×“×™×™× ×¢×œ ×™×“×™×•</label>
                </div>
                <div class="option">
                    <input type="radio" name="q8" value="×’" id="q8c">
                    <label for="q8c">×’. ×©×¨×™×•×Ÿ ×•××’×Ÿ</label>
                </div>
                <div class="option">
                    <input type="radio" name="q8" value="×“" id="q8d">
                    <label for="q8d">×“. ×œ× ×”×ª×—×¤×©</label>
                </div>
            </div>

            <div class="question">
                <div class="question-title">9. ×œ××Ÿ ×‘×¨×— ×™×¢×§×‘ ××¤× ×™ ×¢×©×•?</div>
                <div class="option">
                    <input type="radio" name="q9" value="×" id="q9a">
                    <label for="q9a">×. ×œ××¦×¨×™×</label>
                </div>
                <div class="option">
                    <input type="radio" name="q9" value="×‘" id="q9b">
                    <label for="q9b">×‘. ×œ×—×¨×Ÿ, ××œ ×œ×‘×Ÿ</label>
                </div>
                <div class="option">
                    <input type="radio" name="q9" value="×’" id="q9c">
                    <label for="q9c">×’. ×œ××¨×¥ ×›× ×¢×Ÿ</label>
                </div>
                <div class="option">
                    <input type="radio" name="q9" value="×“" id="q9d">
                    <label for="q9d">×“. ×œ×‘××¨ ×©×‘×¢</label>
                </div>
            </div>

            <div class="question">
                <div class="question-title">10. ×›××” ×××•×ª ××™×© ×”×™×• ×¢× ×¢×©×• ×›×©×‘× ×œ×¤×’×•×© ××ª ×™×¢×§×‘?</div>
                <div class="option">
                    <input type="radio" name="q10" value="×" id="q10a">
                    <label for="q10a">×. ×××” ××™×©</label>
                </div>
                <div class="option">
                    <input type="radio" name="q10" value="×‘" id="q10b">
                    <label for="q10b">×‘. ×××ª×™×™× ××™×©</label>
                </div>
                <div class="option">
                    <input type="radio" name="q10" value="×’" id="q10c">
                    <label for="q10c">×’. ×©×œ×•×© ×××•×ª ××™×©</label>
                </div>
                <div class="option">
                    <input type="radio" name="q10" value="×“" id="q10d">
                    <label for="q10d">×“. ××¨×‘×¢ ×××•×ª ××™×©</label>
                </div>
            </div>

            <button type="submit" class="submit-btn">×”×’×© ××‘×—×Ÿ</button>
        </form>

        <div id="result" class="result">
            <h2>×ª×•×¦××•×ª ×”××‘×—×Ÿ</h2>
            <div class="score" id="scoreDisplay"></div>
            <div class="feedback" id="feedbackText"></div>
            <button class="new-quiz-btn" onclick="resetQuiz()">ğŸ“ ××‘×—×Ÿ ×—×“×©</button>
        </div>
    </div>

    <div id="resultsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">ğŸ“Š ×›×œ ×ª×•×¦××•×ª ×”××‘×—× ×™×</div>
                <button class="close-btn" onclick="closeModal()">âœ– ×¡×’×•×¨</button>
            </div>
            <div id="resultsTableContainer"></div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <script>
        const correctAnswers = {
            q1: '×‘', q2: '×‘', q3: '×‘', q4: '×‘', q5: '×’',
            q6: '×‘', q7: '×‘', q8: '×‘', q9: '×‘', q10: '×“'
        };

        // ×§×‘×œ×ª ×›×œ ×”×ª×•×¦××•×ª ××”×–×™×›×¨×•×Ÿ
        function getAllResults() {
            const data = localStorage.getItem('quizResults');
            return data ? JSON.parse(data) : [];
        }

        // ×©××™×¨×ª ×ª×•×¦××” ×—×“×©×”
        function saveResult(result) {
            const results = getAllResults();
            results.push(result);
            localStorage.setItem('quizResults', JSON.stringify(results));
            updateStats();
        }

        // ×¢×“×›×•×Ÿ ×”×¡×˜×˜×™×¡×˜×™×§×•×ª
        function updateStats() {
            const results = getAllResults();
            const count = results.length;
            const avgScore = count > 0 ? (results.reduce((sum, r) => sum + r.score, 0) / count).toFixed(1) : 0;
            document.getElementById('statsDisplay').textContent = 
                `ğŸ“ˆ ×¡×”"×› ${count} ×ª×œ××™×“×™× ××™×œ××• ××ª ×”××‘×—×Ÿ | ×¦×™×•×Ÿ ×××•×¦×¢: ${avgScore}/10`;
        }

        // ×”×’×©×ª ×”××‘×—×Ÿ
        document.getElementById('quizForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const studentName = document.getElementById('studentName').value;
            
            if (!studentName.trim()) {
                alert('×× × ×”×›× ×™×¡×• ××ª ×©××›×');
                return;
            }

            let score = 0;
            let answers = {};
            
            for (let i = 1; i <= 10; i++) {
                const answer = document.querySelector(`input[name="q${i}"]:checked`);
                if (!answer) {
                    alert(`×× × ×¢× ×• ×¢×œ ×©××œ×” ${i}`);
                    return;
                }
                answers[`q${i}`] = answer.value;
                if (answer.value === correctAnswers[`q${i}`]) {
                    score++;
                }
            }

            const now = new Date();
            const result = {
                name: studentName,
                date: now.toLocaleDateString('he-IL'),
                time: now.toLocaleTimeString('he-IL', { hour: '2-digit', minute: '2-digit' }),
                q1: answers.q1,
                q2: answers.q2,
                q3: answers.q3,
                q4: answers.q4,
                q5: answers.q5,
                q6: answers.q6,
                q7: answers.q7,
                q8: answers.q8,
                q9: answers.q9,
                q10: answers.q10,
                score: score,
                percentage: ((score / 10) * 100).toFixed(0) + '%'
            };

            saveResult(result);
            displayResults(score);
        });

        // ×”×¦×’×ª ×ª×•×¦××•×ª
        function displayResults(score) {
            const percentage = (score / 10) * 100;
            const scoreDisplay = document.getElementById('scoreDisplay');
            const feedbackText = document.getElementById('feedbackText');
            
            scoreDisplay.textContent = `${score}/10 (${percentage}%)`;
            
            let feedback = '';
            if (percentage >= 90) {
                feedback = 'ğŸŒŸ ××¦×•×™×Ÿ! ××ª× ××›×™×¨×™× ××¦×•×™×Ÿ ××ª ×”×¡×™×¤×•×¨!';
            } else if (percentage >= 70) {
                feedback = 'ğŸ‘ ×™×¤×” ×××•×“! ×™×“×¢ ×˜×•×‘ ×‘×¡×™×¤×•×¨!';
            } else if (percentage >= 50) {
                feedback = 'ğŸ“š ×œ× ×¨×¢, ××‘×œ ×›×“××™ ×œ×—×–×•×¨ ×¢×œ ×”×—×•××¨';
            } else {
                feedback = 'ğŸ’ª ××•××œ×¥ ×œ×œ××•×“ ×©×•×‘ ××ª ×”×¤×¨×©×”';
            }
            
            feedbackText.textContent = feedback;
            
            document.getElementById('result').classList.add('show');
            document.getElementById('quizForm').style.display = 'none';
        }

        // ×”×•×¨×“×ª ×›×œ ×”×ª×•×¦××•×ª ×œ×§×•×‘×¥ data.xlsx
        function downloadAllResults() {
            const results = getAllResults();
            
            if (results.length === 0) {
                alert('××™×Ÿ ×ª×•×¦××•×ª ×œ×”×•×¨×“×”');
                return;
            }

            // ×”×›× ×ª ×”× ×ª×•× ×™× ×¢×‘×•×¨ ××§×¡×œ
            const excelData = results.map(r => ({
                '×©× ×”×ª×œ××™×“': r.name,
                '×ª××¨×™×š ××™×œ×•×™ ×”××‘×—×Ÿ': r.date,
                '×©×¢×ª ××™×œ×•×™': r.time,
                '×©××œ×” 1': r.q1,
                '×©××œ×” 2': r.q2,
                '×©××œ×” 3': r.q3,
                '×©××œ×” 4': r.q4,
                '×©××œ×” 5': r.q5,
                '×©××œ×” 6': r.q6,
                '×©××œ×” 7': r.q7,
                '×©××œ×” 8': r.q8,
                '×©××œ×” 9': r.q9,
                '×©××œ×” 10': r.q10,
                '×”×¦×™×•×Ÿ ×©×”×ª×§×‘×œ': r.score,
                '××—×•×– ×”×¦×œ×—×”': r.percentage
            }));

            // ×™×¦×™×¨×ª ×§×•×‘×¥ ××§×¡×œ
            const ws = XLSX.utils.json_to_sheet(excelData);
            const wb = XLSX.utils.book_new();
            XLSX.utils.book_append_sheet(wb, ws, '×ª×•×¦××•×ª');
            
            // ×”×•×¨×“×ª ×”×§×•×‘×¥ ×‘×©× data.xlsx
            XLSX.writeFile(wb, 'data.xlsx');
        }

        // ×¦×¤×™×™×” ×‘×›×œ ×”×ª×•×¦××•×ª
        function viewAllResults() {
            const results = getAllResults();
            
            if (results.length === 0) {
                alert('××™×Ÿ ×ª×•×¦××•×ª ×œ×”×¦×’×”');
                return;
            }

            let tableHTML = `
                <table class="results-table">
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>×©×</th>
                            <th>×ª××¨×™×š</th>
                            <th>×©×¢×”</th>
                            <th>×©1</th>
                            <th>×©2</th>
                            <th>×©3</th>
                            <th>×©4</th>
                            <th>×©5</th>
                            <th>×©6</th>
                            <th>×©7</th>
                            <th>×©8</th>
                            <th>×©9</th>
                            <th>×©10</th>
                            <th>×¦×™×•×Ÿ</th>
                            <th>××—×•×–</th>
                        </tr>
                    </thead>
                    <tbody>
            `;

            results.forEach((r, index) => {
                tableHTML += `
                    <tr>
                        <td>${index + 1}</td>
                        <td>${r.name}</td>
                        <td>${r.date}</td>
                        <td>${r.time}</td>
                        <td>${r.q1}</td>
                        <td>${r.q2}</td>
                        <td>${r.q3}</td>
                        <td>${r.q4}</td>
                        <td>${r.q5}</td>
                        <td>${r.q6}</td>
                        <td>${r.q7}</td>
                        <td>${r.q8}</td>
                        <td>${r.q9}</td>
                        <td>${r.q10}</td>
                        <td><strong>${r.score}/10</strong></td>
                        <td>${r.percentage}</td>
                    </tr>
                `;
            });

            tableHTML += '</tbody></table>';
            
            document.getElementById('resultsTableContainer').innerHTML = tableHTML;
            document.getElementById('resultsModal').classList.add('show');
        }

        // ×¡×’×™×¨×ª ×”××•×“×œ
        function closeModal() {
            document.getElementById('resultsModal').classList.remove('show');
        }

        // ××—×™×§×ª ×›×œ ×”× ×ª×•× ×™×
        function clearAllData() {
            if (confirm('×”×× ××ª×” ×‘×˜×•×— ×©×‘×¨×¦×•× ×š ×œ××—×•×§ ××ª ×›×œ ×”× ×ª×•× ×™×? ×¤×¢×•×œ×” ×–×• ×œ× × ×™×ª× ×ª ×œ×‘×™×˜×•×œ!')) {
                localStorage.removeItem('quizResults');
                updateStats();
                alert('×›×œ ×”× ×ª×•× ×™× × ××—×§×• ×‘×”×¦×œ×—×”');
            }
        }

        // ××™×¤×•×¡ ×”××‘×—×Ÿ ×œ××™×œ×•×™ ×—×“×©
        function resetQuiz() {
            document.getElementById('quizForm').reset();
            document.getElementById('result').classList.remove('show');
            document.getElementById('quizForm').style.display = 'block';
            window.scrollTo(0, 0);
        }

        // ×˜×¢×™× ×” ×¨××©×•× ×™×ª
        updateStats();
